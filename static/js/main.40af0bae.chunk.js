(this.webpackJsonpwordsworth=this.webpackJsonpwordsworth||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(3),s=n.n(a),r=n(9),i=n.n(r),c=(n(14),n(4)),o=n.n(c),u=n(6),l=n(2),d=n(8),h=(n(16),{getCharCount:function(t){try{return t.length}catch(e){console.log("ERR in TextAnalysis.getCharCount: ",e)}},getWordCount:function(t){try{return t.split(" ").length}catch(e){console.log("ERR in TextAnalysis.getWordCount: ",e)}},getSentenceCount:function(t){try{return t.split(/[.!?]+\s/).length}catch(e){console.log("ERR in TextAnalysis.getSentenceCount: ",e)}},getParagraphCount:function(t){try{return t.split(/\n *\n/g).length}catch(e){console.log("ERR in TextAnalysis.getParagraphCount: ",e)}},getBigramCount:function(t){try{var e=0,n=t.split(/[.!?]+\s/);return(n=n.map((function(t){return t.split(" ")}))).forEach((function(t){for(var n=0;n<t.length-1;n++)t[n]!==t[n+1]&&(e+=1)})),e}catch(a){console.log("ERR in TextAnalysis.getBigramCount: ",a)}},sentimentAnalysis:function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="https://api.wit.ai/message?v=20200513&q="+e,"Bearer H77S55NTQYUARMQ336KDEP2XQLLADHM3",t.next=5,fetch(n,{headers:{Authorization:"Bearer H77S55NTQYUARMQ336KDEP2XQLLADHM3"}}).then((function(t){return t.json()})).then((function(t){return console.log("sentimentData",t),void 0!==t.traits.wit$sentiment?"".concat(t.traits.wit$sentiment[0].value," (").concat((100*t.traits.wit$sentiment[0].confidence).toFixed(2),"% confidence)"):"Unable to determine sentiment at this time."})).catch((function(t){return console.log("ERR in POST request to wit.ai: ",t)}));case 5:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t.catch(0),console.log("ERR in TextAnalysis.sentimentAnalysis: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}),j=(n(17),n(18),n(0));function b(t){var e=t.text,n=t.setText;return Object(j.jsxs)("div",{id:"analysis-form",children:[Object(j.jsx)("label",{id:"text-analysis-label",htmlFor:"text-analysis-textarea",children:"Analyze your text!"}),Object(j.jsx)("textarea",{id:"text-analysis-textarea",value:e,onInput:function(t){return n(t.target.value)},cols:"50",rows:"10"})]})}n(20);var p=n(5);function x(t){var e=t.analytics;return Object(j.jsxs)("div",{id:"analysis-sidebar",children:[Object(j.jsxs)("div",{className:"analysis-item","data-tip":"Counts all characters in the text, including spaces.","data-for":"charCount","data-place":"top",children:[Object(j.jsx)("strong",{children:"Characters:"})," ",e.charCount]}),Object(j.jsx)(p.a,{id:"charCount"}),Object(j.jsxs)("div",{className:"analysis-item","data-tip":"Counts all sentences in the text.","data-for":"sentenceCount","data-place":"top",children:[Object(j.jsx)("strong",{children:"Sentences:"})," ",e.sentenceCount]}),Object(j.jsx)(p.a,{id:"sentenceCount"}),Object(j.jsxs)("div",{className:"analysis-item","data-tip":"Counts all paragraphs in the text, based on double line breaks.","data-for":"paraCount","data-place":"top",children:[Object(j.jsx)("strong",{children:"Paragraphs:"})," ",e.paragraphCount]}),Object(j.jsx)(p.a,{id:"paraCount"}),Object(j.jsxs)("div",{className:"analysis-item","data-tip":"Counts all bigrams in the text, based on pairs of non-identical words within the same sentence.<br />Does not count pairs of adjacent words in separate sentences.","data-for":"bigramCount","data-place":"top",children:[Object(j.jsx)("strong",{children:"Bigrams:"})," ",e.bigramCount]}),Object(j.jsx)(p.a,{id:"bigramCount",html:!0}),Object(j.jsxs)("div",{className:"analysis-item","data-tip":"Uses Wit.ai to perform sentiment analysis on short (280 characters or less) pieces of text.<br />May be unreliable for text with paragraph breaks.","data-for":"sentimentAnalysis","data-place":"top",children:[Object(j.jsx)("strong",{children:"Sentiment:"}),Object(j.jsx)("br",{}),e.sentimentAnalysis]}),Object(j.jsx)(p.a,{id:"sentimentAnalysis",html:!0})]})}function g(t){var e=t.text,n=t.setText,a=t.analytics;return Object(j.jsxs)("div",{id:"analysis-container",children:[Object(j.jsx)(b,{text:e,setText:n}),Object(j.jsx)(x,{analytics:a})]})}var f=function(){var t=Object(a.useState)(""),e=Object(d.a)(t,2),n=e[0],s=e[1],r=Object(a.useState)({charCount:0,wordCount:0,sentenceCount:0,paragraphCount:0,bigramCount:0,sentimentAnalysis:"Unable to determine sentiment at this time."}),i=Object(d.a)(r,2),c=i[0],b=i[1];return Object(a.useEffect)((function(){n&&(b((function(t){return Object(l.a)(Object(l.a)({},t),{},{charCount:h.getCharCount(n)})})),b((function(t){return Object(l.a)(Object(l.a)({},t),{},{wordCount:h.getWordCount(n)})})),b((function(t){return Object(l.a)(Object(l.a)({},t),{},{sentenceCount:h.getSentenceCount(n)})})),b((function(t){return Object(l.a)(Object(l.a)({},t),{},{paragraphCount:h.getParagraphCount(n)})})),b((function(t){return Object(l.a)(Object(l.a)({},t),{},{bigramCount:h.getBigramCount(n)})})),n.length<=280?Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.sentimentAnalysis(n);case 2:e=t.sent,b((function(t){return Object(l.a)(Object(l.a)({},t),{},{sentimentAnalysis:e})}));case 4:case"end":return t.stop()}}),t)})))():b((function(t){return Object(l.a)(Object(l.a)({},t),{},{sentimentAnalysis:"Your text is too long for analysis."})})))}),[n]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("h1",{children:"Wordsworth"}),Object(j.jsx)(g,{text:n,setText:s,analytics:c})]})})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.40af0bae.chunk.js.map